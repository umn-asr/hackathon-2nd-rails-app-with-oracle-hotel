# create remote context

docker context create remote \
  --docker host=ssh://swadm@asr-drone-dev-app-01.oit.umn.edu

# tried to `docker-compose up` like below
# various errors worked through
# - until `Error while fetching server API version`
# led to me to realize swadm didn't have the correct permissions

# then had to add swadm to docker group per link shared by Tony
# confirmed added correctly: after sign out, sign back - run `docker run hello-world` successful

# build container on remote host
# using remote context, docker-compose up
#     - I think this saying use the settings of docker-compose.yml, but override
#     docker-compose.yml with settings in docker-compose.prod.yml
docker-compose -f docker-compose.yml -f docker-compose.prod.yml --context remote up -d

# build seemed frozen so re-ran with --verbose
# build failed from line 11 RUN command in Dockerfile:
#     Err:1 http://deb.debian.org/debian buster InRelease
        Could not connect to debian.map.fastlydns.net:80 (199.232.30.132). - connect (113: No route to host) Unable to connect to deb.debian.org:http:
      Err:2 http://deb.debian.org/debian buster-updates InRelease
        Unable to connect to deb.debian.org:http:
      Err:3 http://security.debian.org/debian-security buster/updates InRelease
        Could not connect to debian.map.fastlydns.net:80 (199.232.30.132), connection timed out Could not connect to security.debian.org:80 (151.101.128.204). - connect (113: No route to host) Could not connect to security.debian.org:80 (151.101.64.204), connection timed out Could not connect to security.debian.org:80 (151.101.192.204), connection timed out Could not connect to security.debian.org:80 (151.101.0.204), connection timed out

# Unsure if:
  - Dockerfile should be changed
  - or if prod needs its own Dockerfile like docker-compose
  - or if there's a setting I need to change on the server

# Trying to learn more about the Dockerfile in order to troubleshoot better
